setupChromium() {
    updateChromium
}

setupDesktop() {
    echo -ne "Creating desktop apps directory..."
    run mkdir -p "${DESKTOP_REMOTE_PATH}"

    updateDesktop
}

setupEmacs() {
    echo -ne "Creating Doom Emacs directory..."
    run mkdir -p "${EMACS_REMOTE_PATH}"

    fetchSrc "https://github.com/hlissner/doom-emacs" "${HOME}/.emacs.d"

    echo -e "Unleashing Doom..."
    "${HOME}"/.emacs.d/bin/doom install

    updateEmacs
}

setupFirefox() {
    echo -ne "Creating firefox directory to store profiles..."
    run mkdir -p "${FIREFOX_REMOTE_PATH}"

    if [[ -f "${FIREFOX_REMOTE_PATH}/profiles.ini" ]]; then
        echo -ne "profiles.ini already exists. Making a backup of it."
        run mv "${FIREFOX_REMOTE_PATH}/profiles.ini" "${FIREFOX_REMOTE_PATH}/profiles.ini.bak"
    fi

    echo -e "Creating profiles..."
    counter=0
    for profile in ${FIREFOX_PROFILES[@]}; do
        profileName="${profile^}"

        echo -ne "  => Adding ${profileName} to profiles.ini..."
        cat >> "${FIREFOX_REMOTE_PATH}/profiles.ini" <<EOF
[Profile${counter}]
Name=${profileName}
IsRelative=1
Path=${profile}
EOF
        run grep -i ${profile} "${FIREFOX_REMOTE_PATH}/profiles.ini"

        echo -ne "  => Creating profile: ${profileName}..."
        run mkdir -p "${FIREFOX_REMOTE_PATH}/${profile}"

        counter=$((counter + 1))
    done

    updateFirefox

    echo -e "Firefox has been succesfully setup. After selecting your default profile, please execute the following command to install extensions to your desired profile:\n\n\tdot update firefox --profile <profilename> --install-extensions\n\nHave a good day!"
    setsid --fork firefox --profileManager 2>/dev/null 1>&2
}

setupScripts() {
    updateScripts
}

setupSSH() {
    echo -e "Creating necessary directories..."
    for dir in "${SSH_REMOTE_PATHS[@]}"; do
        echo -ne "  => Creating ${dir}..."
        run mkdir -p "${dir}"
    done

    updateSSH
}

setupThunderbird() {
    echo -ne "Creating profile directory..."
    run mkdir -p "${THUNDERBIRD_REMOTE_PATH}/primary"

    updateThunderbird
}

setupTmux() {
    fetchSrc "https://github.com/gpakosz/.tmux.git" "${TMUX_REMOTE_PATH}"

    echo -ne "Linking configurations..."
    run ln -sf "${TMUX_REMOTE_PATH}/.tmux.conf" "${HOME}" && ln -sf "${TMUX_LOCAL_PATH}/.tmux.conf.local" "${HOME}"
}

setupZSH() {
    if [[ ! -d "${ZSH_REMOTE_PATHS[OMZ]}" ]]; then
        echo -e "Moving zshenv to /etc/zsh (need root permissions)..."
        sudo cp "${SCRIPT_PATH}/zsh/etc/zsh/zshenv" "/etc/zsh"

        echo -ne "Installing oh-my-zsh..."
        run sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended

        updateZSH
    else
        echo -e "${ZSH_REMOTE_PATHS[OMZ]} already exists. Please rename or remove that directory and rerun this script."
        exit 1
    fi
}
