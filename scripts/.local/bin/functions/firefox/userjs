#!/usr/bin/env bash
mkTweaks() {
    echo -ne "Copying personal tweaks to fetched source..."
    run cp "${FIREFOX_PATH}/.mozilla/firefox/user-overrides.js" "${DEST}"

    echo -ne "Merging tweaks with ghacks user.js..."
    run "${DEST}/updater.sh" -s
}

applyUserJS() {
    profileList=$(cat "${FIREFOX_PATH}"/.mozilla/firefox/profiles.ini | grep -i 'Name' | cut -d '=' -f 2 | awk '{print tolower($0)}')

    echo -e "Copying user.js to profile directories..."
    for profile in ${profileList}; do
        echo -ne "  => Copying user.js to profile: ${profile}..."
        run cp "${DEST}/user.js" "${HOME}/.config/firefox/${profile}"
    done
}
